(function(n){n(["jQuery"],function(n){function b(t,i){function u(n,t){t=="error"&&f("Url [ "+r.url+" ] load fail.","Loading: "+(r.title||i))}var r={loading:!0,url:t.url||t};return t.url&&n.extend(r,t),c(r,i).find(".modal-body").load(r.url,u).closest(".modal-dialog")}function f(t,i){w(t,i);var r=n("<section>").append(y(t),v(t.buttons));return l(r,t)}function k(t,i,r){function o(i){var f=t.callback||r,e;if(typeof f=="function")return e=n(i.currentTarget).html(),f(u[e]?!0:!1);throw new Error("No callback provided to execute confim modal action.");}var u={OK:"Cancel",Yes:"No",True:"False"},e="OK";return f({message:t.message||t,title:t.title||i,buttons:[{close:!0,click:o,text:u[t.label]?u[t.label]:u[e],style:"danger"},{close:!0,click:o,text:u[t.label]?t.label:e}]})}function c(n,t){return w(n,t),l(y(n),n,!0)}function d(){return n("#"+u+" > *").remove()}function g(i,r,u){function s(){if(t.modal("hide"),typeof e.callback=="function")return e.callback(t.find("input").val());throw new Error("No callback provided to execute prompt modal action.");}var e={},o;return typeof i=="object"?n.extend(e,i):(e.message=i,e.title=r,e.callback=u),e.buttons=0,o=v([{close:!0,type:"reset",text:"Cancel",style:"danger"},{close:!1,type:"submit",text:"OK"}]),e.message=n('<form role=form style="margin-bottom: 0;"><div  class=modal-body><label for=prompt-input class=control-label>'+e.message+'<\/label><input type=text class=form-control id=prompt-input required autofocus value="'+(e.value||"")+(e.pattern?'" pattern="'+e.pattern:"")+'"><\/div><\/form>').append(o).on("submit",s),f(e)}function nt(t){return i||(i=a()),n.extend(i,t)}function tt(i){return t&&t.remove(),n.extend(o,i)}function l(n,i,u){return t.find(".modal-content").append(n.addClass(u&&!i.loading?r:h)),t.modal(o)}function a(){return{allowContentRecycle:!0,size:"",loadingHtml:'<div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=100 aria-valuemin=0 aria-valuemax=100 style="width: 100%"><span class=sr-only>100% Complete<\/span><\/div><\/div>',title:"Attention"}}function it(){function r(){return n('<div class="modal fade"> <div class=modal-dialog>  <div class=modal-content>   <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;<\/span><span class=sr-only>Close<\/span><\/button><h4 class=modal-title><\/h4><\/div>  <\/div> <\/div><\/div>').on("hidden.bs.modal",p)}return t||(document.getElementById(u)||n("body").append(n(e).prop("id",u).hide()),i=a(),t=r()),t}function v(t){var f,o,s,i,u,r;if(!isNaN(t))return"";if(f=n(e).addClass("modal-footer"),t)for(o=0,s=t.length;o<s;o++){i=t[o];u=n("<button>").addClass("btn btn-"+(i.style||"info"));for(r in i)if(i.hasOwnProperty(r))switch(r){case"close":i[r]&&u.attr("data-dismiss","modal").addClass("x");break;case"click":u.click(i.click);break;case"text":u.html(i[r]);break;default:u.attr(r,i[r])}f.append(u)}else f.append('<button class="x btn btn-info" data-dismiss=modal type=button>Close<\/button>');return f}function y(t){var u,r=t.loading?i.loadingHtml:t.message||t;return u=r.on||r.onclick?t.clone===!0?n(r).clone():n(r):n(e).addClass("modal-body").html(r),t.css&&t.css!=u.css&&u.css(t.css),u}function p(){return t?(t.find("."+h+(!i.allowContentRecycle||s.clone?", ."+r:"")).remove(),t.find("."+r).removeClass(r).appendTo("#"+u)):t}function w(t,r){if(!t)throw new Error("Invalid parameters!");p();s=t;var u=it();return u.find(".modal-dialog").removeClass("modal-sm modal-lg").addClass(t.size?"modal-"+t.size:i.size),u.find(".modal-title").html((t.title||r||i.title)+" ").append(n("<small>").html(t.subtitle||"")),u}var t,i,o={},s={},h="tmp-modal-content",r="rec-modal-content",u="recycle-bin",e="<div>";return{ajax:b,alert:f,confirm:k,dialog:c,emptyBin:d,prompt:g,setEModalOptions:nt,setModalOptions:tt}})})(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&module.exports?module.exports=t(require(n[0])):window.eModal=t(window.jQuery)});
//# sourceMappingURL=eModal.min.js.map
