/* ========================================================================
 * SaRibe: eModal.js v1.2.02
 * http://saribe.github.io/eModal
 * ========================================================================
 * Copyright Samuel Ribeiro.
 * Licensed under MIT.
 * ======================================================================== */
(function(n){n(['jquery'],function(n){function ct(n){t.modal(rt).find(".modal-content").append(n)}function et(){e=null;a.length=0}function y(n){return typeof n=="function"}function ot(t){var e,o,s,i,f,u;if(t===!1)return r;if(e=n(c).addClass("modal-footer").prop("id",ht),t)for(o=0,s=t.length;o<s;o++){i=t[o];f=n("<button>").addClass("btn btn-"+(i.style||"primary"));for(u in i)if(i.hasOwnProperty(u))switch(u){case"close":i[u]&&f.attr("data-dismiss","modal").addClass("x");break;case nt:f.click(i.click);break;case"text":f.html(i[u]);break;default:f.attr(u,i[u])}e.append(f)}else e.append('<button class="x btn btn-primary" data-dismiss=modal type=button>Close<\/button>');return e}function lt(t){var r,u=t.loading?i.loadingHtml:t.message||t;return u.on||u.onclick?(r=t.clone===!0?n(u).clone():n(u),r.addClass(t.useBin&&!t.loading?g:ft)):r=n(c).addClass(d).html(u),t.css&&t.css!==r.css&&r.css(t.css),r}function at(){function i(){return n('<div class="modal fade" tabindex="-1"><style>.modal-xl{width:96%;}<\/style><div class=modal-dialog><div class=modal-content> <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;<\/span><span class=sr-only>Close<\/span><\/button><h4 class=modal-title><\/h4><\/div><\/div><\/div><\/div>').on("hidden.bs.modal",st).on(nt,"button.x",function(i){var r=n(i.currentTarget);if(r.prop("type")!==l)return t.modal(w);try{if(r.closest("form")[0].checkValidity())return s()}catch(u){return s()}return t})}return t||(document.getElementById(h)||n("body").append(n(c).prop("id",h).hide()),t=i(),v.element=t),t}function st(){if(t){var n=t.find("."+g).removeClass(g).appendTo("#"+h);t.off(k).off(b).find(".modal-content > div:not(:first-child)").remove();et();(!i.allowContentRecycle||it.clone)&&n.remove()}}function vt(t,u){if(!t)throw new Error("Invalid parameters!");st();it=t;var f=at();f.find(".modal-dialog").removeClass("modal-sm modal-lg modal-xl").addClass(t.size?"modal-"+t.size:i.size);f.find(".modal-title").html((t.title||u||i.title)+" ").append(n("<small>").html(t.subtitle||r));f.on(k,t.onHide)}function yt(n){y(n)&&(e=n)}function pt(n,t){if(y(n)){var i={error:t,success:n};a.push(i)}return v}function f(n){var i=a.shift(),r;if(i)try{return r=i.success(n||t),f(r)}catch(u){p(u,i)}return n}function p(n,t){t||(t=a.shift());t&&y(t.error)&&t.error(n);y(e)&&(e(n),e=null);et()}function wt(r,u){function s(n,i){var r=i==="error",u;t.on(b,r?p:f);r&&(u='<div class="alert alert-danger"><strong>XHR Fail: <\/strong>Url [ '+e.url+"] load fail.<\/div>",t.find("."+d).html(u))}var e={async:!0,loading:!0,title:r.title||u||i.title,url:r.url||r};return r.url&&n.extend(e,r),o(e,u).element.find("."+d).load(e.url,s),v}function o(i,r){vt(i,r);var u=n(c).append(lt(i),ot(i.buttons));if(ct(u),!i.async)t.on(b,f);return v}function bt(t,r){function e(t){s();var i=n(t.currentTarget).html();return u[i]?f():p()}return o({async:!0,buttons:[{close:!0,click:e,text:u[t.label]?u[t.label]:u[i.confirmLabel],style:tt},{close:!0,click:e,text:u[t.label]?t.label:i.confirmLabel}],message:t.message||t,onHide:e,size:t.size,title:t.title||r})}function kt(t,r){function s(){return n(this).parent().find("div."+ft).fadeOut(function(){n(this).remove()}),f()}var u='<div class=modal-body style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%<\/div><iframe class="embed-responsive-item" frameborder=0 src="%0%" style="width:100%;height:75vh;display:block;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",i.loadingHtml),e=n(u).load(s);return o({async:!0,buttons:t.buttons||!1,message:e,size:t.size||ut.xl,title:t.title||r})}function dt(){return n("#"+h+" > *").remove()}function gt(e,h){function b(n){var i=t.find("input").val();return s(),n.type!==l?p(i):f(i),!1}var c={},a,v,y,w;if(typeof e=="object"?n.extend(c,e):(c.message=e,c.title=h),c.async=!0,c.buttons)for(v=0,y=c.buttons.length;v<y;v++)a=c.buttons[v],a.style=(a.style||"default")+" pull-left",a.type=a.type||"button";return w=ot([{close:!0,type:"reset",text:u.OK,style:tt},{close:!1,type:l,text:i.confirmLabel}].concat(c.buttons||[])),c.buttons=!1,c.onHide=b,c.message=n('<form role=form style="margin-bottom:0;"><div class=modal-body><label for=prompt-input class=control-label>'+(c.message||r)+'<\/label><input type=text class=form-control id=prompt-input required autofocus value="'+(c.value||r)+(c.pattern?'" pattern="'+c.pattern:r)+'"><\/div><\/form>').append(w).on(l,b),o(c)}function ni(t){return n.extend(i,t)}function ti(i){return t&&t.remove(),n.extend(rt,i)}function s(){return t&&t.off(k).modal(w),t}var t,h="recycle-bin",e,c='<div style="position:relative;word-wrap:break-word;">',r="",nt="click",w="hide",b="shown.bs.modal",l="submit",ht="eFooter",k=w+".bs.modal",tt="danger",u={OK:"Cancel",True:"False",Yes:"No"},it={},d="modal-body",rt={},g="modal-rec",ut={sm:"sm",lg:"lg",xl:"xl"},a=[],ft="modal-tmp",i={allowContentRecycle:!0,confirmLabel:"OK",size:r,loadingHtml:'<h5>Loading...<\/h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"><\/div><\/div>',title:"Attention"},v={"catch":yt,element:t,then:pt};return{ajax:wt,alert:o,close:s,confirm:bt,emptyBin:dt,iframe:kt,prompt:gt,setEModalOptions:ni,setModalOptions:ti,size:ut,version:"1.2.1"}})})(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&window.module.exports?window.module.exports=t(window.require(n[0])):window.eModal=t(window.$)});
//# sourceMappingURL=eModal.min.js.map